(async function(){const a="rtbhEvents",b="__rtbh.",c=["uid","sid","aid","eid","lid"],d=31536000000,e=[];if(Array.isArray(window.rtbhEvents)||(window.rtbhEvents=[]),window.rtbhEvents.length&&!window.rtbhEvents.push.prototype)try{function f(a,b="ams"){const d=document.referrer?document.referrer:"";return null===a?void 0:function(e,f,h=null){try{const i=f.filter(a=>!c.includes(a.eventType)&&"init"!==a.eventType);return g(`https://${b}.creativecdn.com/tags/v2?type=json`,{method:"POST",mode:"cors",credentials:"include",referrerPolicy:"no-referrer-when-downgrade",headers:{"Content-Type":"application/json"},redirect:"follow",body:JSON.stringify({v:"v0.1.4",sr:d,su:location.href,th:h?h:a,tags:[...i,...p]})},e)}catch(a){}}}async function g(a,b,c,d){try{const e="function"==typeof c?c:()=>{},f=await fetch(a,b),g=f.status;if(200<=g&&300>g)return e(d?await f.json():await f.text(),f)}catch(a){}}function h(a){try{return JSON.parse(a)}catch(a){return null}}function i(){const b=window[a].filter(a=>a.eventType&&"init"===a.eventType)[0];return b||null}function j(a=null){return a&&a.value?a.value:null}function k(a=null){return a&&a.dc&&["ams","us","phx","sin","ash","asia"].includes(a.dc)?a.dc:"ams"}function l(a){if(s){const b=a||[];for(const a of b)a()}}function m(a){try{const b=JSON.parse(a),c=Array.isArray(b)?b:[];for(const a of c)if(a&&a.url&&a.type)if("img"===(a.type+"").toLowerCase()){const b=new Image;b.src=a.url,b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("scrolling","no"),b.setAttribute("frameBorder","0"),b.setAttribute("style","display:none"),document.body.appendChild(b)}else if("iframe"===(a.type+"").toLowerCase()){const b=document.createElement("iframe");b.setAttribute("width","1"),b.setAttribute("height","1"),b.setAttribute("scrolling","no"),b.setAttribute("frameBorder","0"),b.setAttribute("style","display:none"),b.setAttribute("src",a.url),document.body.appendChild(b)}}catch(a){}}const n=new RegExp(`^(${c.join("|")})$`),o=function(){function a(a,b,c,d,e){const f=e&&""!==e?";domain="+encodeURIComponent(e):"",g=c&&""!==c?";expires="+new Date(new Date().getTime()+c).toString():"",h=d&&"none"===d.toLowerCase(),i=h?" ;Secure":"";document.cookie=a+"="+encodeURIComponent(b)+g+";path=/"+f+(d?";SameSite="+d:"")+i}function d(a){const b=window.document.cookie.match("(^|;)\\s*"+a+"\\s*=\\s*([^;]*)\\s*(;|$)");return b?decodeURIComponent(b[2]):null}function e(a,b){window.localStorage.setItem(a,b)}function f(a){return window.localStorage.getItem(a)}function g(a,b){window.sessionStorage.setItem(a,b)}function i(a){return window.sessionStorage.getItem(a)}return{getAllStorages:a=>{const b=i(a);return b?b:d(a)||f(a)},setAllStorages:(b,c,d,f,h)=>{b&&c&&(a(b,c,d,f,h),e(b,c),g(b,c))},getStorageTags:()=>{const a=[];for(const d of c){const c=o.getAllStorages(b+d),e=h(c);e&&e.eventType&&a.push(e)}return a}}}();let p=o.getStorageTags(),q=i(),r=k(q),s=j(q),t=f(s,r);l(e);for(const e of c){const c=b+e,f=o.getAllStorages(`__rtbhouse.${e}`),g=o.getAllStorages(c),h=window[a].find(a=>a.eventType===e&&a.id);if(h&&o.setAllStorages(c,JSON.stringify(h),d),!g&&f&&!f.includes("eventType")){o.setAllStorages(b+e,JSON.stringify({eventType:e,id:f}),d)}p=o.getStorageTags()}const u=b+"lid";o.getAllStorages(u)||(o.setAllStorages(u,JSON.stringify({eventType:"lid",id:function(){var a=Math.floor;let b="";for(let c=0;20>c;c++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(a(Math.random()*62));return b}()}),d),p=o.getStorageTags()),t(m,window[a]),window[a].push=function(){try{const a=Array.prototype.slice.call(arguments).filter(a=>(n.test((a||{}).eventType+"")&&(o.setAllStorages(b+a.eventType,JSON.stringify(a),d),p=o.getStorageTags()),!0));null===s&&(q=i(),r=k(q),s=j(q),t=f(s,r),l(e)),Array.prototype.push.apply(this,arguments);const c=a.reduce((a,b)=>{const c=b.hash?b.hash:s;return(a[c]=a[c]||[]).push(b),a},{});for(const a of Object.keys(c))t(m,c[a],a);return!0}catch(a){}}}catch(a){}})();