(()=>{(()=>{var E={811:function(e,c){var i,r,o;(function(u,n){if(1)r=[c,e],i=n,o=typeof i=="function"?i.apply(c,r):i,o!==void 0&&(e.exports=o);else var d})(this,function(u,n){"use strict";var d={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function s(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function a(h){try{delete window[h]}catch{window[h]=void 0}}function p(h){var f=document.getElementById(h);f&&document.getElementsByTagName("head")[0].removeChild(f)}function m(h){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],_=h,w=f.timeout||d.timeout,C=f.jsonpCallback||d.jsonpCallback,l=void 0;return new Promise(function(b,v){var g=f.jsonpCallbackFunction||s(),A=C+"_"+g;window[g]=function(k){b({ok:!0,json:function(){return Promise.resolve(k)}}),l&&clearTimeout(l),p(A),a(g)},_+=_.indexOf("?")===-1?"?":"&";var y=document.createElement("script");y.setAttribute("src",""+_+C+"="+g),f.charset&&y.setAttribute("charset",f.charset),f.nonce&&y.setAttribute("nonce",f.nonce),f.referrerPolicy&&y.setAttribute("referrerPolicy",f.referrerPolicy),f.crossorigin&&y.setAttribute("crossorigin","true"),y.id=A,document.getElementsByTagName("head")[0].appendChild(y),l=setTimeout(function(){v(new Error("JSONP request to "+h+" timed out")),a(g),p(A),window[g]=function(){a(g)}},w),y.onerror=function(){v(new Error("JSONP request to "+h+" failed")),a(g),p(A),l&&clearTimeout(l)}})}n.exports=m})},39:e=>{"use strict";e.exports=React}},P={};function t(e){var c=P[e];if(c!==void 0)return c.exports;var i=P[e]={exports:{}};return E[e].call(i.exports,i,i.exports,t),i.exports}t.m=E,t.n=e=>{var c=e&&e.__esModule?()=>e.default:()=>e;return t.d(c,{a:c}),c},t.d=(e,c)=>{for(var i in c)t.o(c,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:c[i]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((c,i)=>(t.f[i](e,c),c),[])),t.u=e=>""+{89:"WapAtmosphere",364:"CodeAtmosphere",444:"PcFirstOrderPopup",501:"WapAtmosphereFloor",598:"PcAtmosphereFloor",663:"Atmosphere"}[e]+".js",t.miniCssF=e=>""+{89:"WapAtmosphere",364:"CodeAtmosphere",444:"PcFirstOrderPopup",501:"WapAtmosphereFloor",598:"PcAtmosphereFloor",663:"Atmosphere"}[e]+".chunk.css",t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(e,c)=>Object.prototype.hasOwnProperty.call(e,c),(()=>{var e={},c="marketing-render-sdk:";t.l=(i,r,o,u)=>{if(e[i]){e[i].push(r);return}var n,d;if(o!==void 0)for(var s=document.getElementsByTagName("script"),a=0;a<s.length;a++){var p=s[a];if(p.getAttribute("src")==i||p.getAttribute("data-webpack")==c+o){n=p;break}}n||(d=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,t.nc&&n.setAttribute("nonce",t.nc),n.setAttribute("data-webpack",c+o),n.src=i),e[i]=[r];var m=(f,_)=>{n.onerror=n.onload=null,clearTimeout(h);var w=e[i];if(delete e[i],n.parentNode&&n.parentNode.removeChild(n),w&&w.forEach(C=>C(_)),f)return f(_)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),d&&document.head.appendChild(n)}})(),t.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var c=t.g.document;if(!e&&c&&(c.currentScript&&(e=c.currentScript.src),!e)){var i=c.getElementsByTagName("script");if(i.length)for(var r=i.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=i[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{if(!(typeof document>"u")){var e=(o,u,n,d,s)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",t.nc&&(a.nonce=t.nc);var p=m=>{if(a.onerror=a.onload=null,m.type==="load")d();else{var h=m&&m.type,f=m&&m.target&&m.target.href||u,_=new Error("Loading CSS chunk "+o+` failed.
(`+h+": "+f+")");_.name="ChunkLoadError",_.code="CSS_CHUNK_LOAD_FAILED",_.type=h,_.request=f,a.parentNode&&a.parentNode.removeChild(a),s(_)}};return a.onerror=a.onload=p,a.href=u,n?n.parentNode.insertBefore(a,n.nextSibling):document.head.appendChild(a),a},c=(o,u)=>{for(var n=document.getElementsByTagName("link"),d=0;d<n.length;d++){var s=n[d],a=s.getAttribute("data-href")||s.getAttribute("href");if(s.rel==="stylesheet"&&(a===o||a===u))return s}for(var p=document.getElementsByTagName("style"),d=0;d<p.length;d++){var s=p[d],a=s.getAttribute("data-href");if(a===o||a===u)return s}},i=o=>new Promise((u,n)=>{var d=t.miniCssF(o),s=t.p+d;if(c(d,s))return u();e(o,s,null,u,n)}),r={57:0};t.f.miniCss=(o,u)=>{var n={89:1,364:1,444:1,501:1,598:1,663:1};r[o]?u.push(r[o]):r[o]!==0&&n[o]&&u.push(r[o]=i(o).then(()=>{r[o]=0},d=>{throw delete r[o],d}))}}})(),(()=>{var e={57:0};t.f.j=(r,o)=>{var u=t.o(e,r)?e[r]:void 0;if(u!==0)if(u)o.push(u[2]);else{var n=new Promise((p,m)=>u=e[r]=[p,m]);o.push(u[2]=n);var d=t.p+t.u(r),s=new Error,a=p=>{if(t.o(e,r)&&(u=e[r],u!==0&&(e[r]=void 0),u)){var m=p&&(p.type==="load"?"missing":p.type),h=p&&p.target&&p.target.src;s.message="Loading chunk "+r+` failed.
(`+m+": "+h+")",s.name="ChunkLoadError",s.type=m,s.request=h,u[1](s)}};t.l(d,a,"chunk-"+r,r)}};var c=(r,o)=>{var[u,n,d]=o,s,a,p=0;if(u.some(h=>e[h]!==0)){for(s in n)t.o(n,s)&&(t.m[s]=n[s]);if(d)var m=d(t)}for(r&&r(o);p<u.length;p++)a=u[p],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkmarketing_render_sdk=self.webpackChunkmarketing_render_sdk||[];i.forEach(c.bind(null,0)),i.push=c.bind(null,i.push.bind(i))})();var D={};(()=>{"use strict";const e=/^(https?:)?\/\/(.+)\/sc\/(.*)icbu-marketing\/([\d.]+)\//;function c(){if(document.currentScript)return document.currentScript.src.match(e);{const l=document.querySelectorAll("script[src]");for(let b=l.length-1;b>=0;b--){const v=l[b].src.match(e);if(v)return v}}}function i(){const l=c();return l?`https://${l[2]}/sc/icbu-marketing/${l[4]}/`:"/build/"}try{t.p=i()}catch(l){console.error(l)}var r=t(39),o=t.n(r);const u=ReactDOM;var n=t(811),d=t.n(n);const s=()=>{const l=window.location.host.match(/(.*?).alibaba\.(.*?)$/);return l&&l.length>=3?l[2]:"com"};function a(){return fetch("//s.alicdn.com/@xconfig/icbu_marketing/popup/whitemap").then(l=>l.json())}function p({sceneCode:l,timeZone:b,bizData:v={}}){return d()(`//ug.alibaba.${s()}/api/ags/incentive/getCreativeIncentive.json?sceneCode=${l}&timeZone=${b}&bizData=${JSON.stringify(v)}`).then(g=>g.json()).then(g=>(console.log("\u5F02\u6B65\u6E32\u67D3\u8425\u9500\u6C1B\u56F4\u6570\u636E",g),g))}function m(){const l=document?.querySelector('meta[name="data-spm"]')?.getAttribute("content")||"a2706",b=document?.body?.dataset?.spm;return`${l}.${b}`}const f={marketingPcAtmosphere:(0,r.lazy)(()=>t.e(663).then(t.bind(t,682))),marketingWapAtmosphere:(0,r.lazy)(()=>t.e(89).then(t.bind(t,305))),marketingWapAtmosphereFloor:(0,r.lazy)(()=>t.e(501).then(t.bind(t,121))),marketingPcAtmosphereFloor:(0,r.lazy)(()=>t.e(598).then(t.bind(t,337))),marketingPcFirstOrderPopup:(0,r.lazy)(()=>t.e(444).then(t.bind(t,448))),marketingCodeAtmosphere:(0,r.lazy)(()=>t.e(364).then(t.bind(t,526)))};async function _(){const{whiteMap:l={}}=await a(),b=l[m()];if(!b)return;const v=document.createElement("div");v.id="icbu-marketing-popup-container",document.body.appendChild(v);const g=f.marketingPcFirstOrderPopup;(0,u.createRoot)(v).render(o().createElement(r.Suspense,{fallback:o().createElement(o().Fragment,null)},o().createElement(g,{...b})))}function w({dotScene:l,componentsList:b}){b.forEach(v=>{const{domId:g,comId:A,props:y,sceneCode:k}=v;p({sceneCode:k,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}).then(S=>{const F=S?.object?.materialInfo||y?.comData;if(F){const O=document.getElementById(g);if(!O)return console.error(`${g} is not exist`);y?.onShow&&y.onShow();const j=f[A];(0,u.createRoot)(O).render(o().createElement(r.Suspense,{fallback:o().createElement(o().Fragment,null)},o().createElement(j,{...y,comData:F,dotScene:l})))}})})}function C(){window.IcbuMarketingSDK||(_(),window.IcbuMarketingSDK={render:w})}C()})()})();})();
